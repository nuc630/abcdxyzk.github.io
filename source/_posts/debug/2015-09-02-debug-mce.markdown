---
layout: post
title: "Machine Check Exception"
date: 2015-09-02 16:53:00 +0800
comments: false
categories:
- 2015
- 2015~09
- debug
- debug~mark
tags:
---

dmesg显示
```
	...

	sbridge: HANDLING MCE MEMORY ERROR
	CPU 0: Machine Check Exception: 0 Bank 5: 8c00004000010093
	TSC 0 ADDR 67081b300 MISC 2140040486 PROCESSOR 0:206d7 TIME 1441181676 SOCKET 0 APIC 0
	EDAC MC0: CE row 2, channel 0, label "CPU_SrcID#0_Channel#3_DIMM#0": 1 Unknown error(s): memory read on FATAL area : cpu=0 Err=0001:0093 (ch=3), addr= 0x67081b300 => socket=0, Channel=3(mask=8), rank=0

	...
```

保存4行log为mlog

```
	# mcelog --ascii < /tmp/mlog
	WARNING: with --dmi mcelog --ascii must run on the same machine with the
		 same BIOS/memory configuration as where the machine check occurred.
	sbridge: HANDLING MCE MEMORY ERROR
	CPU 0: Machine Check Exception: 0 Bank 5: 8c00004000010093
	HARDWARE ERROR. This is *NOT* a software problem!
	Please contact your hardware vendor
	Wed Sep  2 16:14:36 2015
	CPU 0 BANK 5 MISC 2140040486 ADDR 67081b300
	STATUS 8c00004000010093 MCGSTATUS 0
	CPUID Vendor Intel Family 6 Model 45
	WARNING: SMBIOS data is often unreliable. Take with a grain of salt!
	<24> DIMM 1333 Mhz Res13 Width 72 Data Width 64 Size 16 GB
	Device Locator: Node0_Channel2_Dimm0
	Bank Locator: Node0_Bank0
	Manufacturer: Hynix Semiconducto
	Serial Number: 40743B5A
	Asset Tag: Dimm2_AssetTag
	Part Number: HMT42GR7BFR4A-PB
	TSC 0 ADDR 67081b300 MISC 2140040486 PROCESSOR 0:206d7 TIME 1441181676 SOCKET 0 APIC 0
	EDAC MC0: CE row 2, channel 0, label "CPU_SrcID#0_Channel#3_DIMM#0": 1 Unknown error(s): memory read on FATAL area : cpu=0 Err=0001:0093 (ch=3), addr = 0x67081b300 => socket=0, Channel=3(mask=8), rank=0
```

根据  
Part Number: HMT42GR7BFR4A-PB  
Serial Number: 40743B5A  

在lshw中找相应硬件

```
	...

		 *-memory:0
		      description: System Memory
		      physical id: 2d
		      slot: System board or motherboard
		    *-bank:0
		         description: DIMM 1333 MHz (0.8 ns)
		         product: HMT42GR7BFR4A-PB
		         vendor: Hynix Semiconducto
		         physical id: 0
		         serial: 905D21AE
		         slot: Node0_Channel1_Dimm0
		         size: 16GiB
		         width: 64 bits
		         clock: 1333MHz (0.8ns)
		    *-bank:1
		         description: DIMM Synchronous [empty]
		         product: A1_Dimm1_PartNumber
		         vendor: Dimm1_Manufacturer
		         physical id: 1
		         serial: Dimm1_SerNum
		         slot: Node0_Channel1_Dimm1
		         width: 64 bits
		    *-bank:2
		         description: DIMM 1333 MHz (0.8 ns)
		         product: HMT42GR7BFR4A-PB
		         vendor: Hynix Semiconducto
		         physical id: 2
		         serial: 40743B5A
		         slot: Node0_Channel2_Dimm0
		         size: 16GiB
		         width: 64 bits
		         clock: 1333MHz (0.8ns)

			...
```


