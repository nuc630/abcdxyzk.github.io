
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>kk Blog —— 通用基础</title>

  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="kk Blog —— 通用基础" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/category.js" type="text/javascript"></script>

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">kk Blog —— 通用基础</a></h1>
  
    <h2>cp -rf * .</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
<li>
<form action="/search" method="get">
    <input class="search" name="query" id="query" type="text" placeholder="search...">
    <input id="btnSubmit" value="search" type="submit">
</form>
<script type="text/javascript">
var query = GetRequest("query");
if (query != null) {
	document.getElementById("query").value = query;
}
</script>
</li>
  <li><a href="/atom.xml" rel="subscribe-rss">RSS</a></li>
  
</ul>
  
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/download">Download</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2014/02/21/debug-base-objdump-apply/">独立的调试符号文件</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-02-21T14:13:00+08:00'><span class='date'>2014-02-21</span> <span class='time'>14:13:00</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>  这种将可执行程序与调试符号分离的方案好处多多。一方面，缩减了可执行程序的文件大小，在一定程度上提高了程序的执行性能，另一方面，对应的调试符号文件也方便了一些不时之需。本文就来看一下与此相关的两个问题。</p>

<h4>一 如何给应用程序创建对应的调试符号文件？</h4>

<p>这很简单，看个演示实例。有代码如下：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@lenky gdb]# cat t.c
</span><span class='line'>#include &lt;stdio.h&gt; 
</span><span class='line'>int main(int argc, char *argv[])
</span><span class='line'>{
</span><span class='line'>  printf("Hello world!\n");
</span><span class='line'>  return 0;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>依次执行命令如下：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@lenky gdb]# ls -l
</span><span class='line'>total 4
</span><span class='line'>-rw-r--r--. 1 root root 103 Mar 20 07:52 t.c
</span><span class='line'>[root@lenky gdb]# gcc -g t.c -o t
</span><span class='line'>[root@lenky gdb]# ls -l
</span><span class='line'>total 12
</span><span class='line'>-rwxr-xr-x. 1 root root 7717 Mar 20 07:58 t
</span><span class='line'>-rw-r--r--. 1 root root  103 Mar 20 07:52 t.c
</span><span class='line'>[root@lenky gdb]# objcopy --only-keep-debug t t.debuginfo
</span><span class='line'>[root@lenky gdb]# objcopy --strip-debug t
</span><span class='line'>[root@lenky gdb]# objcopy --add-gnu-debuglink=t.debuginfo t
</span><span class='line'>[root@lenky gdb]# ls -l
</span><span class='line'>total 20
</span><span class='line'>-rwxr-xr-x. 1 root root 6470 Mar 20 07:58 t
</span><span class='line'>-rw-r--r--. 1 root root  103 Mar 20 07:52 t.c
</span><span class='line'>-rwxr-xr-x. 1 root root 6109 Mar 20 07:58 t.debuginfo</span></code></pre></td></tr></table></div></figure>


<p>OK，可执行程序t和对应的调试符号文件t.debuginfo就生成了。</p>

<p>几条命令，给以分别解释一下：  <br/>
1. gcc -g t.c -o t  <br/>
  这个无需多说，值得注意的是，-g和-O2可以同时使用。  <br/>
2. objcopy –only-keep-debug t t.debuginfo  <br/>
  将可执行程序文件t内的与调试相关的信息拷贝到文件t.debuginfo内。也可以这样：<br/>
cp t t.debuginfo<br/>
strip &ndash;only-keep-debug t.debuginfo<br/>
3. objcopy –strip-debug t  <br/>
  删除可执行程序文件t内的调试相关信息。也可以直接使用strip命令，不过strip命令会把symtab也删除掉，导致在没有debuginfo文件的情况下，打印堆栈信息会受到影响，比如变得不那么清晰。  <br/>
4. objcopy –add-gnu-debuglink=t.debuginfo t  <br/>
  在可执行程序文件t内添加一个名为.gnu_debuglink的section段，该段内包含有debuginfo文件的name名称和checksum校验和，以确保后续在进行实际调试时，可执行程序和对应的调试符号文件是一致的。</p>

<h4>二 如何使用gdb调试带有调试符号文件的应用程序？</h4>

<p>  其实想想也知道，这只需解决一个问题，即如何把应用程序与调试符号文件关联起来。  <br/>
  gdb会按照一定的规则去搜索对应路径，找寻应用程序的调试符号文件，比如gdb会自动查找可执行程序所在目录下的.debug文件夹：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@lenky ~]# pwd
</span><span class='line'>/root
</span><span class='line'>[root@lenky ~]# gdb /home/work/gdb/t -q
</span><span class='line'>Reading symbols from /home/work/gdb/t...Reading symbols from /home/work/gdb/.debug/t.debug...done.
</span><span class='line'>done.
</span><span class='line'>(gdb)</span></code></pre></td></tr></table></div></figure>


<p>把调试符号文件放到同一个目录也可以：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@lenky ~]# rm -fr /tmp/.debug/
</span><span class='line'>[root@lenky ~]# cp /home/work/gdb/.debug/t.debug /tmp/
</span><span class='line'>[root@lenky ~]# gdb /tmp/t -q
</span><span class='line'>Reading symbols from /tmp/t...Reading symbols from /tmp/t.debug...done.
</span><span class='line'>done.
</span><span class='line'>(gdb)</span></code></pre></td></tr></table></div></figure>


<h4>下面再介绍另外几种主动设置方法：</h4>

<h5>1，通过gdb启动参数-s指定：</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@lenky ~]# gdb -s /home/work/gdb/.debug/t.debug -e /tmp/t -q
</span><span class='line'>Reading symbols from /home/work/gdb/.debug/t.debug...done.
</span><span class='line'>(gdb)</span></code></pre></td></tr></table></div></figure>


<p>注意：可执行程序必须通过-e指定，否则貌似gdb会拿它覆盖-s参数，比如如下：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@lenky ~]# gdb -s /home/work/gdb/.debug/t.debug /tmp/t -q
</span><span class='line'>Reading symbols from /tmp/t...Missing separate debuginfo for /tmp/t
</span><span class='line'>Try: yum --disablerepo='*' --enablerepo='*-debuginfo' install /usr/lib/debug/.build-id/01/f1df7f4971caacd934aca9523c4e4b5ae95332.debug
</span><span class='line'>(no debugging symbols found)...done.
</span><span class='line'>(gdb)</span></code></pre></td></tr></table></div></figure>


<p>可以看到，gdb直接尝试从文件/tmp/t内读取符号了，而不是文件t.debug。</p>

<h5>2，利用gdb的命令设置搜索路径：set debug-file-directory directories</h5>

<p>  这是gdb官方文档提到的，可以设置搜索路径的命令，但是貌似并没有起作用，或者是我漏掉了什么。具体不说了，请看参考5。</p>

<h4>参考：</h4>

<ol>
<li>How to generate gcc debug symbol outside the build target?  <br/>
<a href="http://stackoverflow.com/questions/866721/how-to-generate-gcc-debug-symbol-outside-the-build-target">http://stackoverflow.com/questions/866721/how-to-generate-gcc-debug-symbol-outside-the-build-target</a></li>
<li>Creating separate debug info  <br/>
<a href="https://blogs.oracle.com/dbx/entry/creating_separate_debug_info">https://blogs.oracle.com/dbx/entry/creating_separate_debug_info</a></li>
<li>man objcopy</li>
<li>.gnu_debuglink or Debugging system libraries with source code  <br/>
<a href="https://blogs.oracle.com/dbx/entry/gnu_debuglink_or_debugging_system">https://blogs.oracle.com/dbx/entry/gnu_debuglink_or_debugging_system</a></li>
<li>18.2 Debugging Information in Separate Files  <br/>
<a href="http://sourceware.org/gdb/onlinedocs/gdb/Separate-Debug-Files.html">http://sourceware.org/gdb/onlinedocs/gdb/Separate-Debug-Files.html</a></li>
<li><a href="http://www.technovelty.org/code/separate-debug-info.html">http://www.technovelty.org/code/separate-debug-info.html</a></li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#!/bin/sh
</span><span class='line'># 可以改成：将要提取的文件加到参数中
</span><span class='line'>
</span><span class='line'>#set -x
</span><span class='line'>
</span><span class='line'>objcopyout()
</span><span class='line'>{
</span><span class='line'>#       if [ -f `file -N $1 | sed -n -e 's/^\(.*\):[   ]*.*ELF.*, not stripped/\1/p'` ]; then
</span><span class='line'>&#9;    val=`objdump -s -j .gnu_debuglink "$1" | grep 'Contents of section .gnu_debuglink:'`
</span><span class='line'>&#9;    if [ -z "$val" ]; then
</span><span class='line'>&#9;            #debug_out=".debug/$1.debug".`date +%s`
</span><span class='line'>&#9;            tmp_name=`echo "$1" | awk -F/ '{ print $NF}'`
</span><span class='line'>&#9;            debug_out=".debug/$tmp_name.debug".`date +%s`
</span><span class='line'>&#9;            objcopy --only-keep-debug "$1" "$debug_out"
</span><span class='line'>&#9;            objcopy --strip-debug "$1"
</span><span class='line'>&#9;            objcopy --add-gnu-debuglink="$debug_out" "$1"
</span><span class='line'>&#9;    fi
</span><span class='line'>#       objdump -s -j .gnu_debuglink "$1"
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>mkdir -p .debug/
</span><span class='line'>
</span><span class='line'>while [ $# -gt 0 ]; do
</span><span class='line'>&#9;    if [ -f "$1" ]; then
</span><span class='line'>&#9;            objcopyout "$1"
</span><span class='line'>&#9;    fi
</span><span class='line'>&#9;    shift
</span><span class='line'>done
</span><span class='line'>
</span><span class='line'>#find . -name *.ko -print |
</span><span class='line'>#while read f
</span><span class='line'>#do
</span><span class='line'>#       objcopyout "$f"
</span><span class='line'>#done</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2014/02/21/debug-base-objcopy/">objcopy命令介绍</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-02-21T14:12:00+08:00'><span class='date'>2014-02-21</span> <span class='time'>14:12:00</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>objcopy把一种目标文件中的内容复制到另一种类型的目标文件中.</p>

<h4>(1)将图像编译到可执行文件内</h4>

<p>Q: 如何将一个二进制文件，比如图片，词典一类的东西做为.o文件，直接链接到可执行文件内部呢？<br/>
A:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ objcopy -I binary -O elf32-i386 -B i386 14_95_13.jpg image.o
</span><span class='line'>$ gcc image.o tt.o -o tt
</span><span class='line'>$ nm tt | grep 14_95
</span><span class='line'>0805d6c7 D _binary_14_95_13_jpg_end
</span><span class='line'>00014213 A _binary_14_95_13_jpg_size
</span><span class='line'>080494b4 D _binary_14_95_13_jpg_start</span></code></pre></td></tr></table></div></figure>


<h4>(2)使用objcopy把不用的信息去掉：</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ objcopy -R .comment -R .note halo halo.min</span></code></pre></td></tr></table></div></figure>


<h4>(3)</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ objcopy -R .note -R .comment -S -O binary xyb xyb.bin
</span><span class='line'>-R .note -R .comment 表示移掉 .note 与 .comment 段
</span><span class='line'>-S 表示移出所有的标志及重定位信息
</span><span class='line'>-O binary xyb xyb.bin 表示由xyb生成二进制文件xyb.bin</span></code></pre></td></tr></table></div></figure>


<h3>objcopy工具使用指南</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>objcopy Utility
</span><span class='line'>objcopy [ -F bfdname | --target=bfdname ]
</span><span class='line'>[ -I bfdname | --input-target=bfdname ]
</span><span class='line'>[ -O bfdname | --output-target= bfdname ]
</span><span class='line'>[ -S | --strip-all ] [ -g | --strip-debug ]
</span><span class='line'>[ -K symbolname | --keep-symbol= symbolname ]
</span><span class='line'>[ -N symbolname | --strip-symbol= symbolname ]
</span><span class='line'>[ -L symbolname | --localize-symbol= symbolname ]
</span><span class='line'>[ -W symbolname | --weaken-symbol= symbolname ]
</span><span class='line'>[ -x | --discard-all ] [ -X | --discard-locals ]
</span><span class='line'>[ -b byte | --byte= byte ]
</span><span class='line'>[ -i interleave | --interleave= interleave ]
</span><span class='line'>[ -R sectionname | --remove-section= sectionname ]
</span><span class='line'>[ -p | --preserve-dates ] [ --debugging ]
</span><span class='line'>[ --gap-fill= val ] [ --pad-to= address ]
</span><span class='line'>[ --set-start= val ] [ --adjust-start= incr ]
</span><span class='line'>[ --change-address= incr ]
</span><span class='line'>[ --change-section-address= section{=,+,-} val ]
</span><span class='line'>[ --change-warnings ] [ --no-change-warnings ]
</span><span class='line'>[ --set-section-flags= section= flags ]
</span><span class='line'>[ --add-section= sectionname= filename ]
</span><span class='line'>[ --change-leading char ] [--remove-leading-char ]
</span><span class='line'>[ --weaken ]
</span><span class='line'>[ -v | --verbose ] [ -V | --version ] [ --help ]
</span><span class='line'>input-file [ outfile ]  </span></code></pre></td></tr></table></div></figure>


<p>  GNU实用工具程序objcopy的作用是拷贝一个目标文件的内容到另一个目标文件中。Objcopy使用GNU BFD库去读或写目标文件。Objcopy可以使用不同于源目标文件的格式来写目的目标文件（也即是说可以将一种格式的目标文件转换成另一种格式的目标文 件）。通过以上命令行选项可以控制Objcopy的具体操作。</p>

<p>  Objcopy在进行目标文件的转换时，将生成一个临时文件，转换完成后就将这个临 时文件删掉。Objcopy使用BFD做转换工作。如果没有明确地格式要求，则Objcopy将访问所有在BFD库中已经描述了的并且它可以识别的格式， 请参见《GNUpro Decelopment Tools》中“using ld”一章中“BFD库”部分和“BFD库中规范的目标文件格式”部分。</p>

<p>  通过使用srec作为输出目标（使用命令行选项-o srec），Objcopy可以产生S记录格式文件。</p>

<p>  通过使用binary作为输出目标（使用命令行选项-o binary），Objcopy可以产生原始的二进制文件。使用Objcopy产生一个原始的二进制文件，实质上是进行了一回输入目标文件内容的内存转 储。所有的符号和重定位信息都将被丢弃。内存转储起始于输入目标文件中那些将要拷贝到输出目标文件去的部分的最小虚地址处。</p>

<p>  使用Objcopy生成S记录格式文件或者原始的二进制文件的过程中，-S选项和-R选项可能会比较有用。-S选项是用来删掉包含调试信息的部分，-R选项是用来删掉包含了二进制文件不需要的内容的那些部分。</p>

<p>input-file<br/>
outfile<br/>
  参数input-file和outfile分别表示输入目标文件（源目标文件）和输出目标 文件（目的目标文件）。如果在命令行中没有明确地指定outfile，那么Objcopy将创建一个临时文件来存放目标结果，然后使用input- file的名字来重命名这个临时文件（这时候，原来的input-file将被覆盖）。</p>

<p>-I bfdname<br/>
&ndash;input-target=bfdname<br/>
  明确告诉Objcopy，源文件的格式是什么，bfdname是BFD库中描述的标准格式名。这样做要比“让Objcopy自己去分析源文件的格式，然后去和BFD中描述的各种格式比较，通过而得知源文件的目标格式名”的方法要高效得多。</p>

<p>-O bfdname<br/>
&ndash;output-target= bfdname<br/>
  使用指定的格式来写输出文件（即目标文件），bfdname是BFD库中描述的标准格式名。</p>

<p>-F bfdname<br/>
&ndash;target= bfdname<br/>
明确告诉Objcopy，源文件的格式是什么，同时也使用这个格式来写输出文件（即目标文件），也就是说将源目标文件中的内容拷贝到目的目标文件的过程中，只进行拷贝不做格式转换，源目标文件是什么格式，目的目标文件就是什么格式。</p>

<p>-R sectionname<br/>
&ndash;remove-section= sectionname<br/>
从输出文件中删掉所有名为sectionname的段。这个选项可以多次使用。<br/>
注意：不恰当地使用这个选项可能会导致输出文件不可用。</p>

<p>-S<br/>
&ndash;strip-all （strip 剥去、剥）<br/>
不从源文件中拷贝重定位信息和符号信息到输出文件（目的文件）中去。</p>

<p>-g<br/>
&ndash;strip-debug<br/>
不从源文件中拷贝调试符号到输出文件（目的文件）中去。</p>

<p>&ndash;strip-undeeded<br/>
剥去所有在重定位处理时所不需要的符号。</p>

<p>-K symbolname<br/>
&ndash;keep-symbol= symbolname<br/>
仅从源文件中拷贝名为symbolname的符号。这个选项可以多次使用。</p>

<p>-N symbolname<br/>
&ndash;strip-symbol= symbolname<br/>
不从源文件中拷贝名为symbolname的符号。这个选项可以多次使用。它可以和其他的strip选项联合起来使用（除了-K symbolname | &ndash;keep-symbol= symbolname外）。</p>

<p>-L symbolname<br/>
&ndash;localize-symbol= symbolname<br/>
使名为symbolname的符号在文件内局部化，以便该符号在该文件外部是不可见的。这个选项可以多次使用。</p>

<p>-W symbolname<br/>
-weaken-symbol= symbolname<br/>
弱化名为symbolname的符号。这个选项可以多次使用。</p>

<p>-x<br/>
&ndash;discard-all （discard 丢弃、抛弃）<br/>
不从源文件中拷贝非全局符号。</p>

<p>-X<br/>
&ndash;discard-locals<br/>
不从源文件中拷贝又编译器生成的局部符号（这些符号通常是L或 . 开头的）。</p>

<p>-b byte<br/>
&ndash;byte= byte<br/>
Keep only every byte of the input file (header data is not affected). byte can be<br/>
in the range from 0 to interleave-1, where interleave is given by the -i or<br/>
&ndash;interleave option, or the default of 4. This option is useful for creating files to<br/>
program ROM . It is typically used with an srec output target.</p>

<p>-i interleave<br/>
&ndash;interleave= interleave （interleave 隔行、交叉）<br/>
Only copy one out of every interleave bytes. Select which byte to copy with the<br/>
-b or &ndash;byte option. The default is 4. objcopy ignores this option if you do not<br/>
specify either -b or &ndash;byte.</p>

<p>-p<br/>
&ndash;preserve-dates (preserve 保存、保持)<br/>
设置输出文件的访问和修改日期和输入文件相同。</p>

<p>[ &ndash;debugging ]<br/>
如果可能的话，转换调试信息。因为只有特定的调试格式被支持，以及这个转换过程要耗费一定的时间，所以这个选项不是默认的。</p>

<p>&ndash;gap-fill= val<br/>
使用内容val填充段与段之间的空隙。通过增加段的大小，在地址较低的一段附加空间中填充内容val来完成这一选项的功能。</p>

<p>&ndash;pad-to= address<br/>
填充输出文件到虚拟地址address。通过增加输出文件中最后一个段的大小，在输出文件中最后一 段的末尾和address之间的这段附加空间中，用&ndash;gap-fill= val选项中指定的内容val来填充（默认内容是0，即没有使用&ndash;gap-fill= val选项的情况下）。</p>

<p>&ndash;set-start= val<br/>
设置新文件（应该是输出文件吧？）的起始地址为val。不是所有的目标文件格式都支持设置起始地址。</p>

<p>&ndash;change-start = incr<br/>
&ndash;adjust-start= incr<br/>
通过增加值incr来改变起始地址。不是所有的目标文件格式都支持设置起始地址。</p>

<p>&ndash;change-addresses incr<br/>
&ndash;adjust-vma incr<br/>
Change the VMA and LMA addresses of all sections, section., as well as the<br/>
start address, by adding incr. Some object file formats do not permit section<br/>
addresses to be changed arbitrarily.</p>

<p>通过加上一个值incr，改变所有段的VMA（Virtual Memory Address运行时地址）和LMA（Load Memory Address装载地址），以及起始地址。某些目标文件格式不允许随便更改段的地址。</p>

<p>&ndash;change-section-address section{=,+,-} val<br/>
&ndash;adjust-section-vma section{=,+,-} val<br/>
  设置或者改变名为section的段的VMA（Virtual Memory Address运行时地址）和LMA（Load Memory Address装载地址）。如果这个选项中使用的是“=”，那么名为section的段的VMA（Virtual Memory Address运行时地址）和LMA（Load Memory Address装载地址）将被设置成val；如果这个选项中使用的是“-”或者“+”，那么上述两个地址将被设置或者改变成这两个地址的当前值减去或加上 val后的值。如果在输入文件中名为section的段不存在，那么Objcopy将发出一个警告，除非&ndash;no-change-warnings选项被 使用。</p>

<p>这里的段地址设置和改变都是输出文件中的段相对于输入文件中的段而言的。例如：<br/>
（1）&ndash;change-section-address .text = 10000<br/>
这里是指将输入文件（即源文件）中名为.text的段拷贝到输出文件中后，输出文件中的.text段的VMA（Virtual Memory Address运行时地址）和LMA（Load Memory Address装载地址）将都被设置成10000。<br/>
（2）&ndash;change-section-address .text + 100<br/>
这 里是指将输入文件（即源文件）中名为.text的段拷贝到输出文件中后，输出文件中的.text段的VMA（Virtual Memory Address运行时地址）和LMA（Load Memory Address装载地址）将都被设置成以前输入文件中.text段的地址（当前地址）加上100后的值。</p>

<p>&ndash;change-section-lma section{=,+,-} val<br/>
  仅设置或者改变名为section的段的 LMA（Load Memory Address装载地址）。一个段的LMA是程序被加载时，该段将被加载到的一段内存空间的首地址。通常LMA和VMA（Virtual Memory Address运行时地址）是相同的，但是在某些系统中，特别是在那些程序放在ROM的系统中，LMA和VMA是不相同的。如果这个选项中使用的是 “=”，那么名为section的段的LMA（Load Memory Address装载地址）将被设置成val；如果这个选项中使用的是“-”或者“+”，那么LMA将被设置或者改变成这两个地址的当前值减去或加上val 后的值。如果在输入文件中名为section的段不存在，那么Objcopy将发出一个警告，除非&ndash;no-change-warnings选项被使用。</p>

<p>&ndash;change-section-vma section{=,+,-} val<br/>
  仅设置或者改变名为section的段的 VMA（Load Memory Address装载地址）。一个段的VMA是程序运行时，该段的定位地址。通常VMA和LMA（Virtual Memory Address运行时地址）是相同的，但是在某些系统中，特别是在那些程序放在ROM的系统中，LMA和VMA是不相同的。如果这个选项中使用的是 “=”，那么名为section的段的LMA（Load Memory Address装载地址）将被设置成val；如果这个选项中使用的是“-”或者“+”，那么LMA将被设置或者改变成这两个地址的当前值减去或加上val 后的值。如果在输入文件中名为section的段不存在，那么Objcopy将发出一个警告，除非&ndash;no-change-warnings选项被使用。</p>

<p>&ndash;change-warnings<br/>
&ndash;adjust-warnings<br/>
  如果命令行中使用了&ndash;change- section-address section{=,+,-} val或者&ndash;adjust-section-vma section{=,+,-} val，又或者&ndash;change-section-lma section{=,+,-} val，又或者&ndash;change-section-vma section{=,+,-} val，并且输入文件中名为section的段不存在，则Objcopy发出警告。这是默认的选项。</p>

<p>&ndash;no-chagne-warnings<br/>
&ndash;no-adjust-warnings<br/>
  如果命令行中使用了&ndash;change- section-address section{=,+,-} val或者&ndash;adjust-section-vma section{=,+,-} val，又或者&ndash;change-section-lma section{=,+,-} val，又或者&ndash;change-section-vma section{=,+,-} val，即使输入文件中名为section的段不存在， Objcopy也不会发出警告。</p>

<p>&ndash;set-section-flags section=flags<br/>
  为section的段设置一个标识。这个flags变量的可以取逗号分隔的多个标识名字符串（这些标识名字符串是能够被Objcopy程序所识别的），合法的标识名有alloc，load，readonly，code，data和rom。
You can set the contents flag for a section which does not havecontents, but it is not meaningful to clear the contents flag of a section which does have contents; just remove the section instead. Not all flags are meaningful for all object file formats.</p>

<p>&ndash;add-section sectionname=filename<br/>
  进行目标文件拷贝的过程中，在输出文件中增加一个名为 sectionname的新段。这个新增加的段的内容从文件filename得到。这个新增加的段的大小就是这个文件filename的大小。只要输出文 件的格式允许该文件的段可以有任意的段名（段名不是标准的，固定的），这个选项才能使用。</p>

<p>&ndash;change-leading-char<br/>
Some object file formats use special characters at the start of symbols. The most<br/>
common such character is underscore, which compilers often add before every<br/>
symbol. This option tells objcopy to change the leading character of every<br/>
symbol when it converts between object file formats. If the object file formats use<br/>
the same leading character, this option has no effect. Otherwise, it will add a<br/>
character, or remove a character, or change a character, as appropriate.</p>

<p>&ndash;remove-leading-char<br/>
If the first character of a global symbol is a special symbol leading character used<br/>
by the object file format, remove the character. The most common symbol leading<br/>
character is underscore. This option will remove a leading underscore from all<br/>
global symbols. This can be useful if you want to link together objects of different<br/>
file formats with different conventions for symbol names.</p>

<p>&ndash;weaken<br/>
Change all global symbols in the file to be weak. This can be useful when building<br/>
an object that will be linked against other objects using the -R option to the linker.<br/>
This option is only effective when using an object file format that supports weak<br/>
symbols.</p>

<p>-V<br/>
&ndash;version<br/>
Show the version number of objcopy.</p>

<p>-v<br/>
&ndash;verbose<br/>
Verbose output: list all object files modified. In the case of archives, objcopy -V<br/>
lists all members of the archive.</p>

<p>&ndash;help<br/>
Show a summary of the options to objcopy.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2014/02/21/debug-base-strip/">对库和可执行文件进行裁减</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-02-21T14:11:00+08:00'><span class='date'>2014-02-21</span> <span class='time'>14:11:00</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>  如果生成的可执行文件或库比较大，这时候就可以使用strip命令进行裁减，在嵌入式开发中，如果使用的交叉编译工具是arm-linux,则命令 是arm-linux-strip,如果是arm-uclibc-linux,则命令是arm-uclibc-linux-strip.</p>

<p>  因为开发板上的空间本来就很少，使用这个命令可以进一步减少可执行文件的大小，从而可以在开发板上可以存放更过的可执行文件。</p>

<ul>
<li><p>主要是把编译的库文件或者可执行文件里的一些调试信息和符号信息去除。</p>

<p>使用strip对库文件、可执行文件进行操作，库文件、可执行文件中的一些与正常运行无关的调试信息和符号信息会被剔除掉，而且操作前和操作后文件的大小 变化特别明显，一般可以减少1/3或更多，所以在嵌入式的平台上是非常有用的。但是在开发过程并不提倡这一做法，因为使用strip后,使用gdb时就无法获得调试信息了</p></li>
</ul>


<p>用法: strip [options] file(s)<br/>
strip一般有以下选项</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>-I --input-target= 假定输入文件的格式为
</span><span class='line'>-O --output-target= 以格式创建输出文件
</span><span class='line'>-F --target= 设置输入、输出的文件格式为
</span><span class='line'>-p --preserve-dates 复制上次修改或者操作的时间到输出文件中
</span><span class='line'>-R --remove-section= 删除输出文件中段信息
</span><span class='line'>-s --strip-all 删除所有符号信息和重定位信息
</span><span class='line'>-g -S -d --strip-debug 删除所有调试信息和段信息
</span><span class='line'>--strip-unneeded 删除所有重定位中不需要的符号信息
</span><span class='line'>--only-keep-debug 删除调试信息以外的其他所有信息
</span><span class='line'>-N --strip-symbol= 不拷贝符号信息
</span><span class='line'>-K --keep-symbol= 不去除符号信息
</span><span class='line'>-w --wildcard 在符号中使用通配符
</span><span class='line'>-x --discard-all 去除所有非全局符号
</span><span class='line'>-X --discard-locals 去除所有编译产生的符号
</span><span class='line'>-v --verbose 列出所有修改过的所有目标文件
</span><span class='line'>-V --version 显示版本号
</span><span class='line'>-h --help 显示帮助
</span><span class='line'>-o 把输出的文件名修改成</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2014/02/19/command-find/">find命令</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-02-19T14:27:00+08:00'><span class='date'>2014-02-19</span> <span class='time'>14:27:00</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h5>find和其他命令共用</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>find ... | while read line; do
</span><span class='line'>  echo "$line"
</span><span class='line'>   ....
</span><span class='line'>done
</span><span class='line'>
</span><span class='line'>find . -name *.dem | while read line; do ll -h "$line"; done
</span><span class='line'>
</span><span class='line'>统计目录并按行数排序（按行大小排序）：
</span><span class='line'>find . -name *.java | xargs wc -l | sort -n
</span><span class='line'>
</span><span class='line'>统计目录并按文件名排序：
</span><span class='line'>find . -name *.java | xargs wc -l | sort -k2</span></code></pre></td></tr></table></div></figure>


<p> 由于find具有强大的功能，所以它的选项也很多，其中大部分选项都值得我们花时间来了解一下。即使系统中含有网络文件系统( NFS)，find命令在该文件系统中同样有效，只你具有相应的权限。在运行一个非常消耗资源的find命令时，很多人都倾向于把它放在后台执行，因为遍 历一个大的文件系统可能会花费很长的时间。</p>

<h4>一、find 命令格式</h4>

<h5>1、find命令的一般形式为：</h5>

<pre><code>find pathname -options [-print -exec -ok ...]
</code></pre>

<h5>2、find命令的参数；</h5>

<p>pathname: find命令所查找的目录路径。例如用.来表示当前目录，用/来表示系统根目录。<br/>
-print： find命令将匹配的文件输出到标准输出。<br/>
-exec： find命令对匹配的文件执行该参数所给出的shell命令。相应命令的形式为’command’ {} \;，注意{}和\；之间的空格。<br/>
-ok： 和-exec的作用相同，只不过以一种更为安全的模式来执行该参数所给出的shell命令，在执行每一个命令之前，都会给出提示，让用户来确定是否执行。</p>

<h5>3、find命令选项</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>-name            按照文件名查找文件。
</span><span class='line'>-perm         按照文件权限来查找文件。
</span><span class='line'>-prune            使用这一选项可以使find命令不在当前指定的目录中查找，如果同时使用-depth选项，那么-prune将被find命令忽略。
</span><span class='line'>-user         按照文件属主来查找文件。
</span><span class='line'>-group            按照文件所属的组来查找文件。
</span><span class='line'>-mtime -n +n  按照文件的更改时间来查找文件， – n表示文件更改时间距现在n天以内，+ n表示文件更改时间距现在n天以前。find命令还有-atime和-ctime 选项，但它们都和-m time选项。
</span><span class='line'>-nogroup      查找无有效所属组的文件，即该文件所属的组在/etc/groups中不存在。
</span><span class='line'>-nouser           查找无有效属主的文件，即该文件的属主在/etc/passwd中不存在。
</span><span class='line'>-newer file1 ! file2  查找更改时间比文件file1新但比文件file2旧的文件。
</span><span class='line'>-type         查找某一类型的文件，诸如：
</span><span class='line'>  b – 块设备文件。
</span><span class='line'>  d – 目录。
</span><span class='line'>  c – 字符设备文件。
</span><span class='line'>  p – 管道文件。
</span><span class='line'>  l – 符号链接文件。
</span><span class='line'>  f – 普通文件。
</span><span class='line'>-size n：[c]     查找文件长度为n块的文件，带有c时表示文件长度以字节计。
</span><span class='line'>-depth：         在查找文件时，首先查找当前目录中的文件，然后再在其子目录中查找。
</span><span class='line'>-fstype：        查找位于某一类型文件系统中的文件，这些文件系统类型通常可以在配置文件/etc/fstab中找到，该配置文件中包含了本系统中有关文件系统的信息。
</span><span class='line'>-mount：         在查找文件时不跨越文件系统mount点。
</span><span class='line'>-follow：        如果find命令遇到符号链接文件，就跟踪至链接所指向的文件。
</span><span class='line'>-cpio：          对匹配的文件使用cpio命令，将这些文件备份到磁带设备中。
</span><span class='line'>另外,下面三个的区别:
</span><span class='line'>-amin n           查找系统中最后N分钟访问的文件
</span><span class='line'>-atime n      查找系统中最后n*24小时访问的文件
</span><span class='line'>-cmin n           查找系统中最后N分钟被改变文件状态的文件
</span><span class='line'>-ctime n      查找系统中最后n*24小时被改变文件状态的文件
</span><span class='line'>-mmin n           查找系统中最后N分钟被改变文件数据的文件
</span><span class='line'>-mtime n      查找系统中最后n*24小时被改变文件数据的文件</span></code></pre></td></tr></table></div></figure>


<h5>4、使用exec或ok来执行shell命令</h5>

<p> 使用find时，只要把想要的操作写在一个文件里，就可以用exec来配合find查找，很方便的<br/>
在有些操作系统中只允许-exec选项执行诸如l s或ls -l这样的命令。大多数用户使用这一选项是为了查找旧文件并删除它们。建议在真正执行rm命令删除文件之前，最好先用ls命令看一下，确认它们是所要删除的文件。<br/>
exec选项后面跟随着所要执行的命令或脚本，然后是一对儿{}，一个空格和一个\，最后是一个分号。为了使用exec选项，必须要同时使用print选项。如果验证一下find命令，会发现该命令只输出从当前路径起的相对路径及文件名。<br/>
例如：为了用ls -l命令列出所匹配到的文件，可以把ls -l命令放在find命令的-exec选项中<br/>
find . -type f -exec ls -l {} \;
-rw-r–r– 1 root root 34928 2003-02-25 ./conf/httpd.conf
-rw-r–r– 1 root root 12959 2003-02-25 ./conf/magic
-rw-r–r– 1 root root 180 2003-02-25 ./conf.d/README
上面的例子中，find命令匹配到了当前目录下的所有普通文件，并在-exec选项中使用ls -l命令将它们列出。<br/>
在/logs目录中查找更改时间在5日以前的文件并删除它们：<br/>
$ find logs -type f -mtime +5 -exec rm {} \;<br/>
记住：在shell中用任何方式删除文件之前，应当先查看相应的文件，一定要小心！当使用诸如mv或rm命令时，可以使用-exec选项的安全模式。它将在对每个匹配到的文件进行操作之前提示你。<br/>
在下面的例子中， find命令在当前目录中查找所有文件名以.LOG结尾、更改时间在5日以上的文件，并删除它们，只不过在删除之前先给出提示。<br/>
$ find . -name “<em>.conf” -mtime +5 -ok rm {} \;<br/>
&lt; rm … ./conf/httpd.conf > ? n<br/>
按y键删除文件，按n键不删除。<br/>
任何形式的命令都可以在-exec选项中使用。<br/>
在下面的例子中我们使用grep命令。find命令首先匹配所有文件名为“ passwd</em>”的文件，例如passwd、passwd.old、passwd.bak，然后执行grep命令看看在这些文件中是否存在一个sam用户。<br/>
find /etc -name “passwd*” -exec grep “sam” {} \;<br/>
sam:x:501:501::/usr/sam:/bin/bash</p>

<h4>二、xargs</h4>

<p>xargs – build and execute command lines from standard input<br/>
  在使用find命令的-exec选项处理匹配到的文件时， find命令将所有匹配到的文件一起传递给exec执行。但有些系统对能够传递给exec的命令长度有限制，这样在find命令运行几分钟之后，就会出现 溢出错误。错误信息通常是“参数列太长”或“参数列溢出”。这就是xargs命令的用处所在，特别是与find命令一起使用。</p>

<p>  find命令把匹配到的文件传递给xargs命令，而xargs命令每次只获取一部分文件而不是全部，不像-exec选项那样。这样它可以先处理最先获取的一部分文件，然后是下一批，并如此继续下去。</p>

<p>  在有些系统中，使用-exec选项会为处理每一个匹配到的文件而发起一个相应的进程，并非将匹配到的文件全部作为参数一次执行；这样在有些情况下就会出现进程过多，系统性能下降的问题，因而效率不高；而使用xargs命令则只有一个进程。另外，在使用xargs命令时，究竟是一次获取所有的参数，还是分批取得参数，以及每一次获取参数的数目都会根据该命令的选项及系统内核中相应的可调参数来确定。</p>

<p>来看看xargs命令是如何同find命令一起使用的，并给出一些例子。<br/>
下面的例子查找系统中的每一个普通文件，然后使用xargs命令来测试它们分别属于哪类文件<br/>
$ find . -type f -print | xargs file<br/>
./.kde/Autostart/Autorun.desktop: UTF-8 Unicode English text<br/>
./.kde/Autostart/.directory: ISO-8859 text\<br/>
……<br/>
在整个系统中查找内存信息转储文件(core dump) ，然后把结果保存到/tmp/core.log 文件中：<br/>
$ find / -name “core” -print | xargs echo “” >/tmp/core.log<br/>
上面这个执行太慢，我改成在当前目录下查找<br/>
$ find . -name “file<em>” -print | xargs echo “” > /temp/core.log<br/>
$ cat /temp/core.log<br/>
./file6<br/>
在当前目录下查找所有用户具有读、写和执行权限的文件，并收回相应的写权限：<br/>
$ ls -l<br/>
drwxrwxrwx 2 sam adm 4096 10月 30 20:14 file6<br/>
-rwxrwxrwx 2 sam adm 0 10月 31 01:01 http3.conf
-rwxrwxrwx 2 sam adm 0 10月 31 01:01 httpd.conf<br/>
$ find . -perm -7 -print | xargs chmod o-w<br/>
$ ls -l<br/>
drwxrwxr-x 2 sam adm 4096 10月 30 20:14 file6<br/>
-rwxrwxr-x 2 sam adm 0 10月 31 01:01 http3.conf<br/>
-rwxrwxr-x 2 sam adm 0 10月 31 01:01 httpd.conf<br/>
用grep命令在所有的普通文件中搜索hostname这个词：<br/>
$ find . -type f -print | xargs grep “hostname”<br/>
./httpd1.conf:# different IP addresses or hostnames and have them handled by the<br/>
./httpd1.conf:# VirtualHost: If you want to maintain multiple domains/hostnames<br/>
on your<br/>
用grep命令在当前目录下的所有普通文件中搜索hostnames这个词：<br/>
$ find . -name * -type f -print | xargs grep “hostnames”<br/>
./httpd1.conf:# different IP addresses or hostnames and have them handled by the<br/>
./httpd1.conf:# VirtualHost: If you want to maintain multiple domains/hostnames<br/>
on your<br/>
注意，在上面的例子中， \用来取消find命令中的</em>在shell中的特殊含义。<br/>
find命令配合使用exec和xargs可以使用户对所匹配到的文件执行几乎所有的命令。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2014/02/18/rpm-cmd/">Linux RPM 命令使用</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-02-18T15:19:00+08:00'><span class='date'>2014-02-18</span> <span class='time'>15:19:00</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h5>如何解压RPM包</h5>

<p>  有时我们需要RPM包中的某个文件，如何解压RPM包呢？RPM包括是使用cpio格式打包的，因此可以先转成cpio然后解压，如下所示：<br/>
rpm2cpio xxx.rpm | cpio -div</p>

<h4>rpm 命令</h4>

<p>  二进制包（Binary）以及源代码包（Source）两种。二进制包可以直接安装在计算机中，而源代码包将会由 RPM自动编译、安装。源代码包经常以src.rpm作为后缀名。</p>

<h6>常用命令组合：</h6>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>－ivh：安装显示安装进度--install--verbose--hash
</span><span class='line'>－Uvh：升级软件包--Update；
</span><span class='line'>－qpl： 列出RPM软件包内的文件信息[Query Package list]；
</span><span class='line'>－qpi：列出RPM软件包的描述信息[Query Package install package(s)]；
</span><span class='line'>－qf：查找指定文件属于哪个RPM软件包[Query File]；
</span><span class='line'>－Va：校验所有的 RPM软件包，查找丢失的文件[View Lost]；
</span><span class='line'>－e：删除包</span></code></pre></td></tr></table></div></figure>


<p>rpm -ivh &ndash;test gaim-1.3.0-1.fc4.i386.rpm　　　 //用来检查依赖关系；并不是真正的安装；</p>

<h6>常用参数：</h6>

<p>Install/Upgrade/Erase options:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>-i, --install                     install package(s)
</span><span class='line'>-v, --verbose                     provide more detailed output
</span><span class='line'>-h, --hash                        print hash marks as package installs (good with -v)
</span><span class='line'>-e, --erase                       erase (uninstall) package
</span><span class='line'>-U, --upgrade=&lt;packagefile&gt;+      upgrade package(s)
</span><span class='line'>－-replacepkge                    无论软件包是否已被安装，都强行安装软件包
</span><span class='line'>--test                            安装测试，并不实际安装
</span><span class='line'>--nodeps                          忽略软件包的依赖关系强行安装
</span><span class='line'>--force                           忽略软件包及文件的冲突
</span><span class='line'>
</span><span class='line'>Query options (with -q or --query):
</span><span class='line'>-a, --all                         query/verify all packages
</span><span class='line'>-p, --package                     query/verify a package file
</span><span class='line'>-l, --list                        list files in package
</span><span class='line'>-d, --docfiles                    list all documentation files
</span><span class='line'>-f, --file                        query/verify package(s) owning file</span></code></pre></td></tr></table></div></figure>


<h4>rpm 依赖</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[root@localhost  src]# rpm -qpR awstats-6.8-1.noarch.rpm
</span><span class='line'>/bin/sh
</span><span class='line'>/usr/bin/perl
</span><span class='line'>config(awstats)  = 6.8-1
</span><span class='line'>perl &gt;= 0:5.005
</span><span class='line'>perl(LWP::UserAgent)
</span><span class='line'>perl(POSIX)
</span><span class='line'>perl(Socket)
</span><span class='line'>perl(Time::Local)
</span><span class='line'>perl(strict)
</span><span class='line'>perl(vars)
</span><span class='line'>rpmlib(CompressedFileNames)  &lt;= 3.0.4-1
</span><span class='line'>rpmlib(PayloadFilesHavePrefix) &lt;= 4.0-1</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/66">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/64">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Categories</h1>
<head>
</head>
<body>
<div id="menu">
<ul>
<li class='catclass'><a href='/blog/cats/language/'>language</a><a href='##' onmousedown=showDiv('language') id='aexp_language'><span class='exp_style' id='exp_language'>[+]</span></a><span class='right_span'>(40)</span></li>
<div id='language' class='catsub'><li><a href='/blog/cats/language~c/?opendiv=language'>c</a><a href='##' onmousedown=showDiv('language~c') id='aexp_language~c'><span class='exp_style' id='exp_language~c'>[+]</span></a><span class='right_span'>23</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('language~c')) document.getElementById('aexp_language~c').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/language~java/?opendiv=language'>java</a><a href='##' onmousedown=showDiv('language~java') id='aexp_language~java'><span class='exp_style' id='exp_language~java'>[+]</span></a><span class='right_span'>11</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('language~java')) document.getElementById('aexp_language~java').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/language~web/?opendiv=language'>web</a><a href='##' onmousedown=showDiv('language~web') id='aexp_language~web'><span class='exp_style' id='exp_language~web'>[+]</span></a><span class='right_span'>6</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('language')) document.getElementById('aexp_language').style.visibility = 'hidden';
if (!document.getElementById('language~web')) document.getElementById('aexp_language~web').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/compiler/'>compiler</a><a href='##' onmousedown=showDiv('compiler') id='aexp_compiler'><span class='exp_style' id='exp_compiler'>[+]</span></a><span class='right_span'>(14)</span></li>
<div id='compiler' class='catsub'><li><a href='/blog/cats/compiler~base/?opendiv=compiler'>base</a><a href='##' onmousedown=showDiv('compiler~base') id='aexp_compiler~base'><span class='exp_style' id='exp_compiler~base'>[+]</span></a><span class='right_span'>10</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('compiler~base')) document.getElementById('aexp_compiler~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/compiler~make/?opendiv=compiler'>make</a><a href='##' onmousedown=showDiv('compiler~make') id='aexp_compiler~make'><span class='exp_style' id='exp_compiler~make'>[+]</span></a><span class='right_span'>4</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('compiler')) document.getElementById('aexp_compiler').style.visibility = 'hidden';
if (!document.getElementById('compiler~make')) document.getElementById('aexp_compiler~make').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/assembly/'>assembly</a><a href='##' onmousedown=showDiv('assembly') id='aexp_assembly'><span class='exp_style' id='exp_assembly'>[+]</span></a><span class='right_span'>(15)</span></li>
<div id='assembly' class='catsub'><li><a href='/blog/cats/assembly~arm/?opendiv=assembly'>arm</a><a href='##' onmousedown=showDiv('assembly~arm') id='aexp_assembly~arm'><span class='exp_style' id='exp_assembly~arm'>[+]</span></a><span class='right_span'>2</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('assembly~arm')) document.getElementById('aexp_assembly~arm').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/assembly~base/?opendiv=assembly'>base</a><a href='##' onmousedown=showDiv('assembly~base') id='aexp_assembly~base'><span class='exp_style' id='exp_assembly~base'>[+]</span></a><span class='right_span'>13</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('assembly')) document.getElementById('aexp_assembly').style.visibility = 'hidden';
if (!document.getElementById('assembly~base')) document.getElementById('aexp_assembly~base').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/tools/'>tools</a><a href='##' onmousedown=showDiv('tools') id='aexp_tools'><span class='exp_style' id='exp_tools'>[+]</span></a><span class='right_span'>(51)</span></li>
<div id='tools' class='catsub'><li><a href='/blog/cats/tools~base/?opendiv=tools'>base</a><a href='##' onmousedown=showDiv('tools~base') id='aexp_tools~base'><span class='exp_style' id='exp_tools~base'>[+]</span></a><span class='right_span'>13</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('tools~base')) document.getElementById('aexp_tools~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/tools~ci/?opendiv=tools'>ci</a><a href='##' onmousedown=showDiv('tools~ci') id='aexp_tools~ci'><span class='exp_style' id='exp_tools~ci'>[+]</span></a><span class='right_span'>3</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('tools~ci')) document.getElementById('aexp_tools~ci').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/tools~command/?opendiv=tools'>command</a><a href='##' onmousedown=showDiv('tools~command') id='aexp_tools~command'><span class='exp_style' id='exp_tools~command'>[+]</span></a><span class='right_span'>11</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('tools~command')) document.getElementById('aexp_tools~command').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/tools~git/?opendiv=tools'>git</a><a href='##' onmousedown=showDiv('tools~git') id='aexp_tools~git'><span class='exp_style' id='exp_tools~git'>[+]</span></a><span class='right_span'>6</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('tools~git')) document.getElementById('aexp_tools~git').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/tools~haproxy/?opendiv=tools'>haproxy</a><a href='##' onmousedown=showDiv('tools~haproxy') id='aexp_tools~haproxy'><span class='exp_style' id='exp_tools~haproxy'>[+]</span></a><span class='right_span'>9</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('tools~haproxy')) document.getElementById('aexp_tools~haproxy').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/tools~mysql/?opendiv=tools'>mysql</a><a href='##' onmousedown=showDiv('tools~mysql') id='aexp_tools~mysql'><span class='exp_style' id='exp_tools~mysql'>[+]</span></a><span class='right_span'>6</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('tools~mysql')) document.getElementById('aexp_tools~mysql').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/tools~ssh/?opendiv=tools'>ssh</a><a href='##' onmousedown=showDiv('tools~ssh') id='aexp_tools~ssh'><span class='exp_style' id='exp_tools~ssh'>[+]</span></a><span class='right_span'>3</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('tools')) document.getElementById('aexp_tools').style.visibility = 'hidden';
if (!document.getElementById('tools~ssh')) document.getElementById('aexp_tools~ssh').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/system/'>system</a><a href='##' onmousedown=showDiv('system') id='aexp_system'><span class='exp_style' id='exp_system'>[+]</span></a><span class='right_span'>(54)</span></li>
<div id='system' class='catsub'><li><a href='/blog/cats/system~base/?opendiv=system'>base</a><a href='##' onmousedown=showDiv('system~base') id='aexp_system~base'><span class='exp_style' id='exp_system~base'>[+]</span></a><span class='right_span'>17</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~base')) document.getElementById('aexp_system~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~centos/?opendiv=system'>centos</a><a href='##' onmousedown=showDiv('system~centos') id='aexp_system~centos'><span class='exp_style' id='exp_system~centos'>[+]</span></a><span class='right_span'>8</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~centos')) document.getElementById('aexp_system~centos').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~cgroup/?opendiv=system'>cgroup</a><a href='##' onmousedown=showDiv('system~cgroup') id='aexp_system~cgroup'><span class='exp_style' id='exp_system~cgroup'>[+]</span></a><span class='right_span'>11</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~cgroup')) document.getElementById('aexp_system~cgroup').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~kvm/?opendiv=system'>kvm</a><a href='##' onmousedown=showDiv('system~kvm') id='aexp_system~kvm'><span class='exp_style' id='exp_system~kvm'>[+]</span></a><span class='right_span'>7</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~kvm')) document.getElementById('aexp_system~kvm').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~namespace/?opendiv=system'>namespace</a><a href='##' onmousedown=showDiv('system~namespace') id='aexp_system~namespace'><span class='exp_style' id='exp_system~namespace'>[+]</span></a><span class='right_span'>2</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~namespace')) document.getElementById('aexp_system~namespace').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~ubuntu/?opendiv=system'>ubuntu</a><a href='##' onmousedown=showDiv('system~ubuntu') id='aexp_system~ubuntu'><span class='exp_style' id='exp_system~ubuntu'>[+]</span></a><span class='right_span'>9</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('system')) document.getElementById('aexp_system').style.visibility = 'hidden';
if (!document.getElementById('system~ubuntu')) document.getElementById('aexp_system~ubuntu').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/kernel/'>kernel</a><a href='##' onmousedown=showDiv('kernel') id='aexp_kernel'><span class='exp_style' id='exp_kernel'>[+]</span></a><span class='right_span'>(163)</span></li>
<div id='kernel' class='catsub'><li><a href='/blog/cats/kernel~base/?opendiv=kernel'>base</a><a href='##' onmousedown=showDiv('kernel~base') id='aexp_kernel~base'><span class='exp_style' id='exp_kernel~base'>[+]</span></a><span class='right_span'>19</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('kernel~base')) document.getElementById('aexp_kernel~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/kernel~fs/?opendiv=kernel'>fs</a><a href='##' onmousedown=showDiv('kernel~fs') id='aexp_kernel~fs'><span class='exp_style' id='exp_kernel~fs'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('kernel~fs')) document.getElementById('aexp_kernel~fs').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/kernel~irq/?opendiv=kernel'>irq</a><a href='##' onmousedown=showDiv('kernel~irq') id='aexp_kernel~irq'><span class='exp_style' id='exp_kernel~irq'>[+]</span></a><span class='right_span'>10</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('kernel~irq')) document.getElementById('aexp_kernel~irq').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/kernel~kexec/?opendiv=kernel'>kexec</a><a href='##' onmousedown=showDiv('kernel~kexec') id='aexp_kernel~kexec'><span class='exp_style' id='exp_kernel~kexec'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('kernel~kexec')) document.getElementById('aexp_kernel~kexec').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/kernel~mm/?opendiv=kernel'>mm</a><a href='##' onmousedown=showDiv('kernel~mm') id='aexp_kernel~mm'><span class='exp_style' id='exp_kernel~mm'>[+]</span></a><span class='right_span'>33</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('kernel~mm')) document.getElementById('aexp_kernel~mm').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/kernel~net/?opendiv=kernel'>net</a><a href='##' onmousedown=showDiv('kernel~net') id='aexp_kernel~net'><span class='exp_style' id='exp_kernel~net'>[+]</span></a><span class='right_span'>80</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('kernel~net')) document.getElementById('aexp_kernel~net').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/kernel~sched/?opendiv=kernel'>sched</a><a href='##' onmousedown=showDiv('kernel~sched') id='aexp_kernel~sched'><span class='exp_style' id='exp_kernel~sched'>[+]</span></a><span class='right_span'>19</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('kernel')) document.getElementById('aexp_kernel').style.visibility = 'hidden';
if (!document.getElementById('kernel~sched')) document.getElementById('aexp_kernel~sched').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/android/'>android</a><a href='##' onmousedown=showDiv('android') id='aexp_android'><span class='exp_style' id='exp_android'>[+]</span></a><span class='right_span'>(22)</span></li>
<div id='android' class='catsub'><li><a href='/blog/cats/android~base/?opendiv=android'>base</a><a href='##' onmousedown=showDiv('android~base') id='aexp_android~base'><span class='exp_style' id='exp_android~base'>[+]</span></a><span class='right_span'>13</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('android~base')) document.getElementById('aexp_android~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/android~i9507v/?opendiv=android'>i9507v</a><a href='##' onmousedown=showDiv('android~i9507v') id='aexp_android~i9507v'><span class='exp_style' id='exp_android~i9507v'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('android~i9507v')) document.getElementById('aexp_android~i9507v').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/android~me722/?opendiv=android'>me722</a><a href='##' onmousedown=showDiv('android~me722') id='aexp_android~me722'><span class='exp_style' id='exp_android~me722'>[+]</span></a><span class='right_span'>3</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('android~me722')) document.getElementById('aexp_android~me722').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/android~nx403a/?opendiv=android'>nx403a</a><a href='##' onmousedown=showDiv('android~nx403a') id='aexp_android~nx403a'><span class='exp_style' id='exp_android~nx403a'>[+]</span></a><span class='right_span'>3</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('android~nx403a')) document.getElementById('aexp_android~nx403a').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/android~s5830/?opendiv=android'>s5830</a><a href='##' onmousedown=showDiv('android~s5830') id='aexp_android~s5830'><span class='exp_style' id='exp_android~s5830'>[+]</span></a><span class='right_span'>2</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('android')) document.getElementById('aexp_android').style.visibility = 'hidden';
if (!document.getElementById('android~s5830')) document.getElementById('aexp_android~s5830').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/debug/'>debug</a><a href='##' onmousedown=showDiv('debug') id='aexp_debug'><span class='exp_style' id='exp_debug'>[+]</span></a><span class='right_span'>(70)</span></li>
<div id='debug' class='catsub'><li><a href='/blog/cats/debug~base/?opendiv=debug'>base</a><a href='##' onmousedown=showDiv('debug~base') id='aexp_debug~base'><span class='exp_style' id='exp_debug~base'>[+]</span></a><span class='right_span'>18</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~base')) document.getElementById('aexp_debug~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~dwarf/?opendiv=debug'>dwarf</a><a href='##' onmousedown=showDiv('debug~dwarf') id='aexp_debug~dwarf'><span class='exp_style' id='exp_debug~dwarf'>[+]</span></a><span class='right_span'>4</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~dwarf')) document.getElementById('aexp_debug~dwarf').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~gdb/?opendiv=debug'>gdb</a><a href='##' onmousedown=showDiv('debug~gdb') id='aexp_debug~gdb'><span class='exp_style' id='exp_debug~gdb'>[+]</span></a><span class='right_span'>8</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~gdb')) document.getElementById('aexp_debug~gdb').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~kdump,-crash/?opendiv=debug'>kdump、crash</a><a href='##' onmousedown=showDiv('debug~kdump、crash') id='aexp_debug~kdump、crash'><span class='exp_style' id='exp_debug~kdump、crash'>[+]</span></a><span class='right_span'>10</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~kdump、crash')) document.getElementById('aexp_debug~kdump、crash').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~kgdb/?opendiv=debug'>kgdb</a><a href='##' onmousedown=showDiv('debug~kgdb') id='aexp_debug~kgdb'><span class='exp_style' id='exp_debug~kgdb'>[+]</span></a><span class='right_span'>3</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~kgdb')) document.getElementById('aexp_debug~kgdb').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~kprobe/?opendiv=debug'>kprobe</a><a href='##' onmousedown=showDiv('debug~kprobe') id='aexp_debug~kprobe'><span class='exp_style' id='exp_debug~kprobe'>[+]</span></a><span class='right_span'>4</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~kprobe')) document.getElementById('aexp_debug~kprobe').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~mark/?opendiv=debug'>mark</a><a href='##' onmousedown=showDiv('debug~mark') id='aexp_debug~mark'><span class='exp_style' id='exp_debug~mark'>[+]</span></a><span class='right_span'>17</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~mark')) document.getElementById('aexp_debug~mark').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~perf/?opendiv=debug'>perf</a><a href='##' onmousedown=showDiv('debug~perf') id='aexp_debug~perf'><span class='exp_style' id='exp_debug~perf'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~perf')) document.getElementById('aexp_debug~perf').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~systemtap/?opendiv=debug'>systemtap</a><a href='##' onmousedown=showDiv('debug~systemtap') id='aexp_debug~systemtap'><span class='exp_style' id='exp_debug~systemtap'>[+]</span></a><span class='right_span'>5</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('debug')) document.getElementById('aexp_debug').style.visibility = 'hidden';
if (!document.getElementById('debug~systemtap')) document.getElementById('aexp_debug~systemtap').style.visibility = 'hidden';
</script>
<li><div style="background:#DDD; height:0.3em;"></div></li><li class='catclass'><a href='/blog/cats/algorithm/'>algorithm</a><a href='##' onmousedown=showDiv('algorithm') id='aexp_algorithm'><span class='exp_style' id='exp_algorithm'>[+]</span></a><span class='right_span'>(27)</span></li>
<div id='algorithm' class='catsub'><li><a href='/blog/cats/algorithm~base/?opendiv=algorithm'>base</a><a href='##' onmousedown=showDiv('algorithm~base') id='aexp_algorithm~base'><span class='exp_style' id='exp_algorithm~base'>[+]</span></a><span class='right_span'>20</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('algorithm~base')) document.getElementById('aexp_algorithm~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/algorithm~dp/?opendiv=algorithm'>dp</a><a href='##' onmousedown=showDiv('algorithm~dp') id='aexp_algorithm~dp'><span class='exp_style' id='exp_algorithm~dp'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('algorithm~dp')) document.getElementById('aexp_algorithm~dp').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/algorithm~ds/?opendiv=algorithm'>ds</a><a href='##' onmousedown=showDiv('algorithm~ds') id='aexp_algorithm~ds'><span class='exp_style' id='exp_algorithm~ds'>[+]</span></a><span class='right_span'>4</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('algorithm~ds')) document.getElementById('aexp_algorithm~ds').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/algorithm~tc/?opendiv=algorithm'>tc</a><a href='##' onmousedown=showDiv('algorithm~tc') id='aexp_algorithm~tc'><span class='exp_style' id='exp_algorithm~tc'>[+]</span></a><span class='right_span'>2</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('algorithm')) document.getElementById('aexp_algorithm').style.visibility = 'hidden';
if (!document.getElementById('algorithm~tc')) document.getElementById('aexp_algorithm~tc').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/blog/'>blog</a><a href='##' onmousedown=showDiv('blog') id='aexp_blog'><span class='exp_style' id='exp_blog'>[+]</span></a><span class='right_span'>(11)</span></li>
<div id='blog' class='catsub'><li><a href='/blog/cats/blog~hello/?opendiv=blog'>hello</a><a href='##' onmousedown=showDiv('blog~hello') id='aexp_blog~hello'><span class='exp_style' id='exp_blog~hello'>[+]</span></a><span class='right_span'>1</span></li>
<div id='blog~hello' class='catsub2'><li><a href='/blog/cats/blog~hello~hi/?opendiv=blog~hello'>hi</a><span class='right_span'>1</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('blog~hello')) document.getElementById('aexp_blog~hello').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/blog~jekyll/?opendiv=blog'>jekyll</a><a href='##' onmousedown=showDiv('blog~jekyll') id='aexp_blog~jekyll'><span class='exp_style' id='exp_blog~jekyll'>[+]</span></a><span class='right_span'>2</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('blog~jekyll')) document.getElementById('aexp_blog~jekyll').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/blog~markdown/?opendiv=blog'>markdown</a><a href='##' onmousedown=showDiv('blog~markdown') id='aexp_blog~markdown'><span class='exp_style' id='exp_blog~markdown'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('blog~markdown')) document.getElementById('aexp_blog~markdown').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/blog~octopress/?opendiv=blog'>octopress</a><a href='##' onmousedown=showDiv('blog~octopress') id='aexp_blog~octopress'><span class='exp_style' id='exp_blog~octopress'>[+]</span></a><span class='right_span'>5</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('blog~octopress')) document.getElementById('aexp_blog~octopress').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/blog~ruby/?opendiv=blog'>ruby</a><a href='##' onmousedown=showDiv('blog~ruby') id='aexp_blog~ruby'><span class='exp_style' id='exp_blog~ruby'>[+]</span></a><span class='right_span'>2</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('blog')) document.getElementById('aexp_blog').style.visibility = 'hidden';
if (!document.getElementById('blog~ruby')) document.getElementById('aexp_blog~ruby').style.visibility = 'hidden';
</script>

</ul>
</div>
</body>
</html>
</section>

<section>
<h1>Date Categories</h1>
<head>
</head>
<body>
<div id="menu">
<ul>
<li class='catclass'><a href='/blog/cats/2016/'>2016</a><a href='##' onmousedown=showDiv('2016')><span class='exp_style' id='exp_2016'>[+]</span></a><span class='right_span'>(9)</span></li>
<div id='2016' class='catsub'><li><a href='/blog/cats/2016~03/?opendiv=2016'>2016-03</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2016~02/?opendiv=2016'>2016-02</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2016~01/?opendiv=2016'>2016-01</a><span class='right_span'>6</span></li>
</div><li class='catclass'><a href='/blog/cats/2015/'>2015</a><a href='##' onmousedown=showDiv('2015')><span class='exp_style' id='exp_2015'>[+]</span></a><span class='right_span'>(207)</span></li>
<div id='2015' class='catsub'><li><a href='/blog/cats/2015~12/?opendiv=2015'>2015-12</a><span class='right_span'>4</span></li>
<li><a href='/blog/cats/2015~11/?opendiv=2015'>2015-11</a><span class='right_span'>9</span></li>
<li><a href='/blog/cats/2015~10/?opendiv=2015'>2015-10</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2015~09/?opendiv=2015'>2015-09</a><span class='right_span'>18</span></li>
<li><a href='/blog/cats/2015~08/?opendiv=2015'>2015-08</a><span class='right_span'>25</span></li>
<li><a href='/blog/cats/2015~07/?opendiv=2015'>2015-07</a><span class='right_span'>31</span></li>
<li><a href='/blog/cats/2015~06/?opendiv=2015'>2015-06</a><span class='right_span'>24</span></li>
<li><a href='/blog/cats/2015~05/?opendiv=2015'>2015-05</a><span class='right_span'>22</span></li>
<li><a href='/blog/cats/2015~04/?opendiv=2015'>2015-04</a><span class='right_span'>23</span></li>
<li><a href='/blog/cats/2015~03/?opendiv=2015'>2015-03</a><span class='right_span'>19</span></li>
<li><a href='/blog/cats/2015~02/?opendiv=2015'>2015-02</a><span class='right_span'>11</span></li>
<li><a href='/blog/cats/2015~01/?opendiv=2015'>2015-01</a><span class='right_span'>19</span></li>
</div><li class='catclass'><a href='/blog/cats/2014/'>2014</a><a href='##' onmousedown=showDiv('2014')><span class='exp_style' id='exp_2014'>[+]</span></a><span class='right_span'>(112)</span></li>
<div id='2014' class='catsub'><li><a href='/blog/cats/2014~12/?opendiv=2014'>2014-12</a><span class='right_span'>21</span></li>
<li><a href='/blog/cats/2014~11/?opendiv=2014'>2014-11</a><span class='right_span'>19</span></li>
<li><a href='/blog/cats/2014~10/?opendiv=2014'>2014-10</a><span class='right_span'>13</span></li>
<li><a href='/blog/cats/2014~09/?opendiv=2014'>2014-09</a><span class='right_span'>7</span></li>
<li><a href='/blog/cats/2014~08/?opendiv=2014'>2014-08</a><span class='right_span'>15</span></li>
<li><a href='/blog/cats/2014~07/?opendiv=2014'>2014-07</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2014~06/?opendiv=2014'>2014-06</a><span class='right_span'>4</span></li>
<li><a href='/blog/cats/2014~05/?opendiv=2014'>2014-05</a><span class='right_span'>7</span></li>
<li><a href='/blog/cats/2014~04/?opendiv=2014'>2014-04</a><span class='right_span'>9</span></li>
<li><a href='/blog/cats/2014~03/?opendiv=2014'>2014-03</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2014~02/?opendiv=2014'>2014-02</a><span class='right_span'>11</span></li>
<li><a href='/blog/cats/2014~01/?opendiv=2014'>2014-01</a><span class='right_span'>2</span></li>
</div><li class='catclass'><a href='/blog/cats/2013/'>2013</a><a href='##' onmousedown=showDiv('2013')><span class='exp_style' id='exp_2013'>[+]</span></a><span class='right_span'>(60)</span></li>
<div id='2013' class='catsub'><li><a href='/blog/cats/2013~12/?opendiv=2013'>2013-12</a><span class='right_span'>5</span></li>
<li><a href='/blog/cats/2013~11/?opendiv=2013'>2013-11</a><span class='right_span'>8</span></li>
<li><a href='/blog/cats/2013~10/?opendiv=2013'>2013-10</a><span class='right_span'>8</span></li>
<li><a href='/blog/cats/2013~09/?opendiv=2013'>2013-09</a><span class='right_span'>5</span></li>
<li><a href='/blog/cats/2013~08/?opendiv=2013'>2013-08</a><span class='right_span'>5</span></li>
<li><a href='/blog/cats/2013~07/?opendiv=2013'>2013-07</a><span class='right_span'>3</span></li>
<li><a href='/blog/cats/2013~06/?opendiv=2013'>2013-06</a><span class='right_span'>9</span></li>
<li><a href='/blog/cats/2013~05/?opendiv=2013'>2013-05</a><span class='right_span'>8</span></li>
<li><a href='/blog/cats/2013~03/?opendiv=2013'>2013-03</a><span class='right_span'>6</span></li>
<li><a href='/blog/cats/2013~02/?opendiv=2013'>2013-02</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2013~01/?opendiv=2013'>2013-01</a><span class='right_span'>1</span></li>
</div><li class='catclass'><a href='/blog/cats/2012/'>2012</a><a href='##' onmousedown=showDiv('2012')><span class='exp_style' id='exp_2012'>[+]</span></a><span class='right_span'>(35)</span></li>
<div id='2012' class='catsub'><li><a href='/blog/cats/2012~12/?opendiv=2012'>2012-12</a><span class='right_span'>4</span></li>
<li><a href='/blog/cats/2012~11/?opendiv=2012'>2012-11</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2012~10/?opendiv=2012'>2012-10</a><span class='right_span'>4</span></li>
<li><a href='/blog/cats/2012~08/?opendiv=2012'>2012-08</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2012~05/?opendiv=2012'>2012-05</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2012~04/?opendiv=2012'>2012-04</a><span class='right_span'>9</span></li>
<li><a href='/blog/cats/2012~03/?opendiv=2012'>2012-03</a><span class='right_span'>6</span></li>
<li><a href='/blog/cats/2012~02/?opendiv=2012'>2012-02</a><span class='right_span'>5</span></li>
<li><a href='/blog/cats/2012~01/?opendiv=2012'>2012-01</a><span class='right_span'>2</span></li>
</div><li class='catclass'><a href='/blog/cats/2011/'>2011</a><a href='##' onmousedown=showDiv('2011')><span class='exp_style' id='exp_2011'>[+]</span></a><span class='right_span'>(35)</span></li>
<div id='2011' class='catsub'><li><a href='/blog/cats/2011~12/?opendiv=2011'>2011-12</a><span class='right_span'>8</span></li>
<li><a href='/blog/cats/2011~11/?opendiv=2011'>2011-11</a><span class='right_span'>4</span></li>
<li><a href='/blog/cats/2011~08/?opendiv=2011'>2011-08</a><span class='right_span'>3</span></li>
<li><a href='/blog/cats/2011~07/?opendiv=2011'>2011-07</a><span class='right_span'>3</span></li>
<li><a href='/blog/cats/2011~06/?opendiv=2011'>2011-06</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2011~05/?opendiv=2011'>2011-05</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2011~04/?opendiv=2011'>2011-04</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2011~03/?opendiv=2011'>2011-03</a><span class='right_span'>11</span></li>
<li><a href='/blog/cats/2011~02/?opendiv=2011'>2011-02</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2011~01/?opendiv=2011'>2011-01</a><span class='right_span'>1</span></li>
</div><li class='catclass'><a href='/blog/cats/2010/'>2010</a><a href='##' onmousedown=showDiv('2010')><span class='exp_style' id='exp_2010'>[+]</span></a><span class='right_span'>(1)</span></li>
<div id='2010' class='catsub'><li><a href='/blog/cats/2010~07/?opendiv=2010'>2010-07</a><span class='right_span'>1</span></li>
</div><li class='catclass'><a href='/blog/cats/2009/'>2009</a><a href='##' onmousedown=showDiv('2009')><span class='exp_style' id='exp_2009'>[+]</span></a><span class='right_span'>(8)</span></li>
<div id='2009' class='catsub'><li><a href='/blog/cats/2009~12/?opendiv=2009'>2009-12</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2009~10/?opendiv=2009'>2009-10</a><span class='right_span'>4</span></li>
<li><a href='/blog/cats/2009~09/?opendiv=2009'>2009-09</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2009~07/?opendiv=2009'>2009-07</a><span class='right_span'>1</span></li>
</div>
</ul>
</div>
</body>
</html>
</section>

<section>
<h1>Tags</h1>
<ul class="tag-cloud">
<a style="font-size: 131%" href="/tags/gdb/">gdb(6)</a>
<a style="font-size: 100%" href="/tags/hello/">hello(1)</a>
<a style="font-size: 150%" href="/tags/koj/">koj(18)</a>
<a style="font-size: 112%" href="/tags/nvidia/">nvidia(2)</a>
<a style="font-size: 100%" href="/tags/patch/">patch(1)</a>
<a style="font-size: 100%" href="/tags/reg-exp/">reg_exp(1)</a>

</ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/03/09/kernel-net-bonding-source/">bonding的源代码分析</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/09/kernel-net-bonding/">七种网卡绑定模式详解</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/29/kernel-net-connect/">socket建立连接 sys_connect</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/21/kernel-net-udp-sum/">udp checksum</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/21/system-base-init/">Linux系统启动过程分析</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub</h1>
  
  <a href="https://github.com/abcdxyzk">abcdxyzk on GitHub</a>
  
</section>

<section>
<h1>Links</h1>
<ul>
	<li>
		<a href=http://hi.baidu.com/abcdxyzk target=_blank>My blog</a>
	</li>
	<li>
		<a href=http://blog.csdn.net/zhangskd target=_blank>zhangsk</a>
	</li>
	<li>
		<a href=http://blog.csdn.net/justlinux2010 target=_blank>justlinux2010</a>
	</li>
	<li>
		<a href=http://simohayha.iteye.com/ target=_blank>simohayha</a>
	</li>
	<li>
		<a href=http://linux.chinaunix.net/techdoc/net/ target=_blank>技术文档</a>
	</li>
	<li>
		<a href=http://blog.csdn.net/cybertan target=_blank>cybertan</a>
	</li>
	<li>
		<a href=http://blog.csdn.net/newnewman80 target=_blank>newnewman80</a>
	</li>
	<li>
		<a href=http://www.cppblog.com/fwxjj/ target=_blank>fwxjj</a>
	</li>
	<li>
		<a href=http://blog.csdn.net/ustc_dylan target=_blank>ustc_dylan</a>
	</li>
	<li>
		<a href=http://blog.csdn.net/nkguohao target=_blank>nkguohao</a>
	</li>
	<li>
		<a href=http://blog.csdn.net/yusiguyuan target=_blank>yusiguyuan</a>
	</li>
	<li>
		<a href=http://www.oenhan.com/ target=_blank>oenhan</a>
	</li>
	<li>
		<a href=http://blog.csdn.net/bullbat target=_blank>bullbat</a>
	</li>
	<li>
		<a href=http://www.wowotech.net/ target=_blank>wowotech</a>
	</li>
	<li>
		<a href=http://www.lenky.info/ target=_blank>lenky</a>
	</li>
	<li>
		<a href=http://smilejay.com/ target=_blank>smilejay</a>
	</li>
	<li>
		<a href=http://blog.chinaunix.net/uid/10167808.html target=_blank>godbach</a>
	</li>
</ul>
</section>

  
<section id="comment_sidebar">
<h1>Recent Comments</h1>

<script type="text/javascript" src="http://abcdxyzk.disqus.com/recent_comments_widget.js?num_items=5&hide_avatars=0&avatar_size=32&excerpt_length=20"></script><a href="http://disqus.com/">Powered by Disqus</a>

</section>


</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - kk -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  <a title="Top" href="#" id="scroll2top" style="position: fixed; height: 50px; bottom: 30px; right: 25px; cursor: pointer; z-index: 9999; display: block; opacity: 1;"><img src="/images/scrollup.png"></a>
  <script src="/javascripts/scroll2top.js"></script>
  <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253604690'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1253604690' type='text/javascript'%3E%3C/script%3E"));</script>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'abcdxyzk';
      
</script>





</body>
</html>
